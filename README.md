# front_3rd_chapter4-2_advanced

## 기존 요구사항

1. 시간표에서 수업을 검색할 수 있습니다.
2. 검색에 대한 다양한 조건을 선택할 수 있습니다.
3. 검색 결과는 인피니티 스크롤을 통해서 가져옵니다.
4. 등록한 수업을 DnD로 옮길 수 있습니다.
5. 등록한 수업을 삭제할 수 있습니다.
6. 시간표를 복제할 수 있습니다.

## 성능 평가 현황

1. 페이지네이션이 느립니다.
2. 똑같은 API를 계속 호출합니다.
3. 드래그/드롭으로 개체를 옮길 수 있지만 무척 느립니다.
4. 시간표가 많아질수록 렌더링이 기하급수적으로 느려집니다.

## 개선 목표

1. 페이지네이션을 했을 때 발생하는 렌더링 + 불필요한 연산 최소화
2. 드래그/드롭 시점에 발생하는 렌더링 + 불필요한 연산 최소화

## 개선 요구사항

### SearchDialog.tsx 개선

1. API 호출 최적화
  - 현 상태: API Call 이 병렬이 아닌 직렬로 실행 중
  - 변경 사항
    - API Call 병렬 동작
    - 이미 호출한 API는 호출하지 않도록 해야 함 (클로저 이용하여 캐시 구성 고려)
2. 불필요한 연산 제거
  - 최초 검색 이후 재검색하지 않도록 개선 필요
  - 현 상태: 렌더링마다 재검색 함
3. 불필요한 렌더링 방지
  - 렌더링 낭비 컴포넌트 개선 필요
  - 현 상태
    - 전공 목록 조회 컴포넌트에서는 모든 요소가 리렌더링되고 있음
    - 강의 목록 조회 컴포넌트 내 내부 요소가 렌더링되고 있음. 스크롤, 페이지네이션 이벤트 시 더 악화됨
  - (선택) 렌더링에 필요한 데이터만 가져오기
    - `지연 평가` 키워드로 찾아서 참고

### DnD 시스템 개선

1. Drag 시 렌더링 최적화
  - 상태 관리 리팩토링 필요 (`useDndContext` 참고)
  - 메모이제이션을 활용하여 불필요한 렌더링 방지
2. Drop 시 렌더링 최적화
  - 현 상태: 모든 구간이 `schedulesMap` 의존
  - 전역상태 업데이트, 조회 방식 개선 필요
  - 메모이제이션을 활용하여 불필요한 렌더링 방지